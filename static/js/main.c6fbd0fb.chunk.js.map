{"version":3,"sources":["pages/NotFoundPage/NotFoundPage.tsx","components/Modal/Modal.tsx","components/ProductsPage/Header/Header.tsx","features/products.ts","components/ProductsPage/NewProductForm/FormItem/FormItem.tsx","components/ProductsPage/NewProductForm/schemas/index.ts","components/ProductsPage/NewProductForm/StarsRating/StarsRating.tsx","components/ProductsPage/NewProductForm/years.ts","components/ProductsPage/NewProductForm/YearSelect/YearSelect.tsx","api/utils/requests.ts","static/images/image__form-success.png","components/SuccessModal/SuccessModal.tsx","components/ProductsPage/NewProductForm/NewProductForm.tsx","api/products.ts","components/ProductsPage/ProductSearch/ProductSearch.tsx","app/hooks.ts","components/Loader/Loader.tsx","components/ProductsPage/ProductsTable/ProductsTable.tsx","pages/ProductsPage/ProductsPage.tsx","App.tsx","app/store.ts","index.tsx"],"names":["NotFoundPage","_jsx","children","Modal","_ref","className","Header","React","memo","showForm","_jsxs","type","onClick","productsSlice","createSlice","name","initialState","reducers","addMultiple","products","action","push","apply","_toConsumableArray","payload","addOne","remove","filter","product","id","actions","FormItem","title","errorMessage","touched","basicSchema","yup","shape","matches","min","max","required","author","year","rating","StarsRating","onChange","concat","map","value","years","amount","currentYear","Date","getFullYear","Array","fill","_","i","YearSelect","selectedYear","request","url","data","arguments","length","undefined","options","method","body","JSON","stringify","headers","fetch","then","res","ok","Error","json","client","SuccessModal","src","formSuccess","alt","NewProductForm","dispatch","useDispatch","_useState","useState","_useState2","_slicedToArray","isSuccessSubmit","setIsSuccessSubmit","_useState3","_useState4","isDataSending","setIsDataSending","navigate","useNavigate","_useFormik","useFormik","initialValues","validationSchema","onSubmit","createProduct","productsActions","catch","finally","values","errors","handleChange","handleSubmit","handleBlur","_Fragment","autoComplete","placeholder","onBlur","ProductSearch","useAppSelector","useSelector","Loader","ProductsTable","isLoading","setIsLoading","setErrorMessage","_useState5","_useState6","productToRemove","setProductToRemove","_useState7","_useState8","itemsLoaded","setItemsLoaded","_useState9","_useState10","productsTotal","setProductTotal","state","handleLoad","skip","loadProducts","current","Number","limit","total","useEffect","handleRemove","productId","removeProduct","alert","columns","useMemo","field","headerName","width","headerClassName","renderCell","params","Avatar","row","thumbnail","sortable","filterable","disableColumnMenu","cn","DataGrid","autoHeight","sx","color","border","display","rows","hideFooterPagination","hideFooterSelectedRowCount","ProductsPage","isNewProductOpened","setIsNewProductOpened","ProductPageHeader","App","Routes","Route","path","element","store","configureStore","reducer","productsReducer","ReactDOM","render","StrictMode","HashRouter","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.c6fbd0fb.chunk.js","sourcesContent":["import React from 'react';\nimport './NotFoundPage.scss';\n\nexport const NotFoundPage: React.FC = () => {\n  return <div>NotFoundPage</div>;\n};\n","import React from 'react';\nimport './Modal.scss';\n\nexport const Modal: React.FC = ({ children }) => (\n  <div className=\"modal\">\n    <div className=\"container modal__container\">{children}</div>\n  </div>\n);\n","import React from 'react';\n\ntype Props = {\n  showForm: React.Dispatch<React.SetStateAction<boolean>>;\n};\n\nexport const Header: React.FC<Props> = React.memo(({ showForm }) => (\n  <header className=\"products-page__header\">\n    <h1 className=\"products-page__title\">Products</h1>\n    <button\n      type=\"button\"\n      className=\"products-page__new-product\"\n      onClick={() => showForm(true)}\n    >\n      New Product\n    </button>\n  </header>\n));\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { Product } from '../types/Product';\n\nconst initialState: Product[] = [];\n\nconst productsSlice = createSlice({\n  name: 'products',\n  initialState,\n  reducers: {\n    addMultiple: (products, action: PayloadAction<Product[]>) => {\n      products.push(...action.payload);\n    },\n    addOne: (products, action: PayloadAction<Product>) => {\n      products.push(action.payload);\n    },\n    remove: (products, action: PayloadAction<number>) => {\n      return products.filter((product) => product.id !== action.payload);\n    },\n  },\n});\n\nexport default productsSlice.reducer;\nexport const { actions } = productsSlice;\n","/* eslint-disable object-curly-newline */\n/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React from 'react';\n\ntype Props = {\n  title: string;\n  errorMessage: string | undefined;\n  touched: boolean | undefined;\n};\n\nexport const FormItem: React.FC<Props> = React.memo(\n  ({ title, errorMessage, touched, children }) => (\n    <label className=\"new-product-form__label\">\n      <span className=\"new-product-form__label-text\">\n        {title}\n        {errorMessage && touched && (\n          <span className=\"new-product-form__error-message\">\n            {errorMessage}\n          </span>\n        )}\n      </span>\n      {children}\n    </label>\n  ),\n);\n","/* eslint-disable import/no-extraneous-dependencies */\nimport * as yup from 'yup';\n\nexport const basicSchema = yup.object().shape({\n  title: yup\n    .string()\n    .matches(/^[A-Za-z]+$/, 'Letters only')\n    .min(3, 'Min 3 letters')\n    .max(30, 'Max 30 letters')\n    .required('Required'),\n  author: yup\n    .string()\n    .matches(/^[A-Za-z]+$/, 'Letters only')\n    .min(3, 'Min 3 letters')\n    .max(30, 'Max 30 letters')\n    .required('Required'),\n  year: yup.number(),\n  rating: yup.number().min(1, 'Required').max(5),\n});\n","/* eslint-disable object-curly-newline */\n/* eslint-disable jsx-a11y/label-has-associated-control */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React, { ChangeEvent } from 'react';\n\ntype Props = {\n  errorMessage: string | undefined;\n  touched: boolean | undefined;\n  rating: number;\n  onChange: (e: ChangeEvent<any>) => void;\n};\n\nexport const StarsRating: React.FC<Props> = React.memo(\n  ({ errorMessage, touched, rating, onChange }) => (\n    <div className=\"new-product-form__label\">\n      <span className=\"new-product-form__label-text\">\n        Rating\n        {errorMessage && touched && (\n          <span className=\"new-product-form__error-message\">\n            {errorMessage}\n          </span>\n        )}\n      </span>\n\n      <div\n        className={`new-product-form__stars new-product-form__stars--${rating}`}\n      >\n        {[1, 2, 3, 4, 5].map((value) => (\n          <label\n            key={value}\n            className=\"new-product-form__star\"\n          >\n            <input\n              className=\"new-product-form__star-btn\"\n              type=\"radio\"\n              name=\"rating\"\n              value={value}\n              onChange={onChange}\n            />\n          </label>\n        ))}\n      </div>\n    </div>\n  ),\n);\n","export const years = (amount: number) => {\n  const currentYear = new Date().getFullYear();\n\n  return Array(amount)\n    .fill(0)\n    .map((_, i) => currentYear - i);\n};\n","/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable object-curly-newline */\nimport React, { ChangeEvent } from 'react';\nimport { years } from '../years';\nimport { FormItem } from '../FormItem';\n\ntype Props = {\n  errorMessage: string | undefined;\n  touched: boolean | undefined;\n  selectedYear: number;\n  onChange: (e: ChangeEvent<any>) => void;\n};\n\nexport const YearSelect: React.FC<Props> = React.memo(\n  ({ errorMessage, touched, selectedYear, onChange }) => (\n    <FormItem\n      title=\"Year\"\n      errorMessage={errorMessage}\n      touched={touched}\n    >\n      <select\n        name=\"year\"\n        className=\"new-product-form__input new-product-form__years\"\n        value={selectedYear}\n        onChange={onChange}\n      >\n        {years(15).map((year) => (\n          <option\n            value={year}\n            key={year}\n          >\n            {year}\n          </option>\n        ))}\n      </select>\n    </FormItem>\n  ),\n);\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nconst BASE_URL = 'https://dummyjson.com';\n\ntype RequestMethod = 'GET' | 'POST' | 'DELETE';\n\nfunction request<T>(\n  url: string,\n  method: RequestMethod = 'GET',\n  data: any = null,\n): Promise<T> {\n  const options: RequestInit = { method };\n\n  if (data) {\n    options.body = JSON.stringify(data);\n    options.headers = {\n      'Content-Type': 'application/json; charset=UTF-8',\n    };\n  }\n\n  return fetch(BASE_URL + url, options).then((res) => {\n    if (!res.ok) {\n      throw new Error();\n    }\n\n    return res.json();\n  });\n}\n\nexport const client = {\n  get: <T>(url: string) => request<T>(url),\n  post: <T>(url: string, data: any) => request<T>(url, 'POST', data),\n  delete: <T>(url: string) => request<T>(url, 'DELETE'),\n};\n","export default __webpack_public_path__ + \"static/media/image__form-success.e39fa5f5.png\";","import React from 'react';\nimport './SuccessModal.scss';\nimport formSuccess from '../../static/images/image__form-success.png';\n\ntype Props = {\n  showForm: React.Dispatch<React.SetStateAction<boolean>>;\n};\n\nexport const SuccessModal: React.FC<Props> = ({ showForm }) => {\n  return (\n    <article className=\"success-modal\">\n      <img\n        className=\"success-modal__img\"\n        src={formSuccess}\n        alt=\"showing that the form was submitted successfully\"\n      />\n      <h3 className=\"success-modal__title\">The product was created!</h3>\n      <button\n        type=\"button\"\n        className=\"btn\"\n        onClick={() => showForm(false)}\n      >\n        Back to products\n      </button>\n    </article>\n  );\n};\n","/* eslint-disable object-curly-newline */\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { useFormik } from 'formik';\nimport { actions as productsActions } from '../../../features/products';\nimport './NewProductForm.scss';\nimport { FormItem } from './FormItem';\nimport { basicSchema } from './schemas';\nimport { StarsRating } from './StarsRating';\nimport { YearSelect } from './YearSelect';\nimport { createProduct } from '../../../api/products';\nimport { SuccessModal } from '../../SuccessModal';\n\ntype Props = {\n  showForm: React.Dispatch<React.SetStateAction<boolean>>;\n};\n\ntype FormState = {\n  title: string;\n  author: string;\n  year: number;\n  rating: number;\n};\n\nexport const NewProductForm: React.FC<Props> = ({ showForm }) => {\n  const dispatch = useDispatch();\n  const [isSuccessSubmit, setIsSuccessSubmit] = useState(false);\n  const [isDataSending, setIsDataSending] = useState(false);\n\n  const navigate = useNavigate();\n\n  const submitHandler = (data: FormState) => {\n    setIsDataSending(true);\n    const { title, rating } = data;\n\n    createProduct({ title, rating: +rating })\n      .then((res) => {\n        dispatch(productsActions.addOne(res));\n        setIsSuccessSubmit(true);\n      })\n      .catch(() => {\n        navigate('/not-found');\n      })\n      .finally(() => {\n        setIsDataSending(false);\n      });\n  };\n\n  // eslint-disable-next-line operator-linebreak\n  const { values, errors, touched, handleChange, handleSubmit, handleBlur } =\n    useFormik({\n      initialValues: {\n        title: '',\n        author: '',\n        year: new Date().getFullYear(),\n        rating: 0,\n      },\n      validationSchema: basicSchema,\n      onSubmit: submitHandler,\n    });\n\n  return (\n    <>\n      {isSuccessSubmit ? (\n        <SuccessModal showForm={showForm} />\n      ) : (\n        <form\n          className=\"new-product-form page__new-product-form\"\n          autoComplete=\"off\"\n          onSubmit={handleSubmit}\n        >\n          {isDataSending && (\n            <div\n              className=\"new-product-form__loader\"\n              aria-label=\"sending data\"\n            >\n              {' '}\n            </div>\n          )}\n          <div className=\"new-product-form__header\">\n            <h2 className=\"new-product-form__title\">Add New Product</h2>\n            <input\n              type=\"button\"\n              className=\"new-product-form__close\"\n              aria-label=\"click to close the form\"\n              onClick={() => showForm(false)}\n            />\n          </div>\n\n          {/* Title */}\n          <FormItem\n            title=\"Title\"\n            errorMessage={errors.title}\n            touched={touched.title}\n          >\n            <input\n              name=\"title\"\n              type=\"text\"\n              className=\"new-product-form__input\"\n              placeholder=\"Title\"\n              value={values.title}\n              onChange={handleChange}\n              onBlur={handleBlur}\n            />\n          </FormItem>\n\n          {/* Author */}\n          <FormItem\n            title=\"Author\"\n            errorMessage={errors.author}\n            touched={touched.author}\n          >\n            <input\n              name=\"author\"\n              type=\"text\"\n              className=\"new-product-form__input\"\n              placeholder=\"Author\"\n              value={values.author}\n              onChange={handleChange}\n              onBlur={handleBlur}\n            />\n          </FormItem>\n\n          <div className=\"new-product-form__container\">\n            {/* Year */}\n            <YearSelect\n              errorMessage={errors.year}\n              touched={touched.year}\n              selectedYear={values.year}\n              onChange={handleChange}\n            />\n\n            {/* Rating */}\n            <StarsRating\n              errorMessage={errors.rating}\n              touched={touched.rating}\n              rating={values.rating}\n              onChange={handleChange}\n            />\n          </div>\n\n          {/* Submit */}\n          <button\n            type=\"submit\"\n            className=\"btn new-product-form__submit\"\n          >\n            Add New Product\n          </button>\n        </form>\n      )}\n    </>\n  );\n};\n","import { Product } from '../types/Product';\nimport { client } from './utils/requests';\n\ntype ApiData = {\n  products: Product[];\n  limit: number;\n  total: number;\n  skip: number;\n};\n\nexport const loadProducts = (limit = 30, skip = 0) => {\n  return client.get<ApiData>(`/products?limit=${limit}&skip=${skip}`);\n};\n\nexport const createProduct = (data: Partial<Product>) => {\n  return client.post<Product>('/products/add', data);\n};\n\nexport const removeProduct = (productId: number) => {\n  return client.delete<Product>(`/products/${productId}`);\n};\n","/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React from 'react';\n\nexport const ProductSearch: React.FC = React.memo(() => (\n  <form className=\"products-page__form\">\n    <label className=\"products-page__search-label\">\n      <div className=\"products-page__search-container\">\n        <input\n          type=\"text\"\n          className=\"products-page__search\"\n          placeholder=\"Search for a Product\"\n        />\n      </div>\n    </label>\n  </form>\n));\n","import { TypedUseSelectorHook, useSelector } from 'react-redux';\nimport { RootState } from './store';\n\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import React from 'react';\nimport './Loader.scss';\n\nexport const Loader: React.FC = () => {\n  return <div className=\"loader\"></div>;\n};\n","/* eslint-disable object-curly-newline */\nimport React, { useEffect, useMemo, useState } from 'react';\nimport cn from 'classnames';\nimport { DataGrid } from '@mui/x-data-grid';\nimport { Avatar } from '@mui/material';\nimport { useDispatch } from 'react-redux';\nimport { useAppSelector } from '../../../app/hooks';\nimport { actions as productsActions } from '../../../features/products';\nimport { loadProducts, removeProduct } from '../../../api/products';\nimport './ProductsTable.scss';\nimport { Loader } from '../../Loader';\n\nexport const ProductsTable: React.FC = React.memo(() => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [productToRemove, setProductToRemove] = useState<number | null>(null);\n  const [itemsLoaded, setItemsLoaded] = useState<number | null>(null);\n  const [productsTotal, setProductTotal] = useState(0);\n  const dispatch = useDispatch();\n  const products = useAppSelector((state) => state.products);\n\n  const handleLoad = (limit = 30, skip = 0) => {\n    loadProducts(limit, skip)\n      .then((res) => {\n        dispatch(productsActions.addMultiple(res.products));\n        setItemsLoaded((current) => Number(current) + res.limit);\n        setProductTotal(res.total);\n      })\n      .catch(() => {\n        setErrorMessage('Oooops, something went wrong...');\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n  useEffect(() => {\n    handleLoad();\n  }, []);\n\n  const handleRemove = (productId: number) => {\n    setProductToRemove(productId);\n\n    removeProduct(productId)\n      .then((res) => {\n        dispatch(productsActions.remove(res.id));\n      })\n      .catch(() => {\n        // eslint-disable-next-line no-alert\n        alert('Something went wrong. Try to delete again !');\n      })\n      .finally(() => {\n        setProductToRemove(null);\n      });\n  };\n\n  const handleLoadMore = () => {\n    setIsLoading(true);\n\n    handleLoad(30, Number(itemsLoaded));\n  };\n\n  const columns = useMemo(\n    () => [\n      {\n        field: 'id',\n        headerName: 'ID',\n        width: 85,\n        headerClassName: 'products-table__table-head',\n      },\n      {\n        field: 'title',\n        headerName: 'Title',\n        width: 150,\n        headerClassName: 'products-table__table-head',\n      },\n      {\n        field: 'description',\n        headerName: 'Description',\n        width: 350,\n        headerClassName: 'products-table__table-head',\n      },\n      {\n        field: 'price',\n        headerName: 'Price',\n        width: 105,\n        headerClassName: 'products-table__table-head',\n      },\n      {\n        field: 'thumbnail',\n        headerName: 'Photo',\n        width: 80,\n        headerClassName: 'products-table__table-head',\n        renderCell: (params: { row: { thumbnail: string | undefined } }) => (\n          <Avatar src={params.row.thumbnail} />\n        ),\n        sortable: false,\n        filterable: false,\n      },\n      {\n        field: 'rating',\n        headerName: 'Rating',\n        width: 110,\n        headerClassName: 'products-table__table-head',\n      },\n      {\n        field: 'stock',\n        headerName: 'Stock',\n        width: 110,\n        headerClassName: 'products-table__table-head',\n      },\n      {\n        field: 'category',\n        headerName: 'Category',\n        width: 130,\n        headerClassName: 'products-table__table-head',\n      },\n      {\n        field: 'remove',\n        headerName: '',\n        width: 80,\n        headerClassName: 'products-table__table-head',\n        sortable: false,\n        filterable: false,\n        disableColumnMenu: true,\n        renderCell: (params: { row: { id: number } }) => (\n          <input\n            type=\"button\"\n            className={cn('products-table__delete', {\n              'products-table__delete--active':\n                params.row.id === productToRemove,\n            })}\n            onClick={() => handleRemove(params.row.id)}\n          />\n        ),\n      },\n    ],\n    [productToRemove],\n  );\n\n  return (\n    <>\n      {errorMessage && (\n        <div className=\"products-table__error-message\">{errorMessage}</div>\n      )}\n      {itemsLoaded && !errorMessage && (\n        <div className=\"products-table\">\n          <DataGrid\n            autoHeight\n            sx={{\n              color: '#fff',\n              border: 'none',\n              '.MuiDataGrid-columnSeparator': {\n                display: 'none',\n              },\n            }}\n            rows={products}\n            columns={columns}\n            hideFooterPagination\n            hideFooterSelectedRowCount\n          />\n        </div>\n      )}\n      {isLoading && <Loader />}\n      {itemsLoaded !== productsTotal && (\n        <button\n          type=\"button\"\n          className={cn('btn products-table__load-more', {\n            'products-table__load-more--loading': isLoading,\n          })}\n          onClick={() => handleLoadMore()}\n        >\n          {errorMessage ? 'Try again' : 'Load more'}\n        </button>\n      )}\n    </>\n  );\n});\n","import React, { useState } from 'react';\nimport { Modal } from '../../components/Modal';\nimport { Header as ProductPageHeader } from '../../components/ProductsPage/Header';\nimport { NewProductForm } from '../../components/ProductsPage/NewProductForm';\nimport { ProductSearch } from '../../components/ProductsPage/ProductSearch';\nimport { ProductsTable } from '../../components/ProductsPage/ProductsTable';\nimport './ProductsPage.scss';\n\nexport const ProductsPage: React.FC = () => {\n  const [isNewProductOpened, setIsNewProductOpened] = useState(false);\n\n  return (\n    <>\n      {isNewProductOpened && (\n        <Modal>\n          <NewProductForm showForm={setIsNewProductOpened} />\n        </Modal>\n      )}\n      <div className=\"products-page\">\n        <div className=\"container\">\n          <ProductPageHeader showForm={setIsNewProductOpened} />\n          <main className=\"products-page__main\">\n            <ProductSearch />\n            <ProductsTable />\n          </main>\n        </div>\n      </div>\n    </>\n  );\n};\n","import React from 'react';\nimport './App.scss';\nimport { Routes, Route } from 'react-router-dom';\n\n// Pages\nimport { NotFoundPage } from './pages/NotFoundPage';\nimport { ProductsPage } from './pages/ProductsPage';\n\nexport const App: React.FC = () => (\n  <>\n    <Routes>\n      <Route\n        path=\"/\"\n        element={<ProductsPage />}\n      />\n      <Route\n        path=\"*\"\n        element={<NotFoundPage />}\n      />\n    </Routes>\n  </>\n);\n","import { configureStore } from '@reduxjs/toolkit';\nimport productsReducer from '../features/products';\n\nconst store = configureStore({\n  reducer: {\n    products: productsReducer,\n  },\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\nimport { App } from './App';\nimport store from './app/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}