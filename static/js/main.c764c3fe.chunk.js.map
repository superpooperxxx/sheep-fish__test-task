{"version":3,"sources":["static/images/image__not-found.png","pages/NotFoundPage/NotFoundPage.tsx","components/Modal/Modal.tsx","components/ProductsPage/Header/Header.tsx","features/products.ts","components/ProductsPage/NewProductForm/FormItem/FormItem.tsx","components/ProductsPage/NewProductForm/schemas/index.ts","components/ProductsPage/NewProductForm/StarsRating/StarsRating.tsx","components/ProductsPage/NewProductForm/years.ts","components/ProductsPage/NewProductForm/YearSelect/YearSelect.tsx","api/utils/requests.ts","static/images/image__form-success.png","components/SuccessModal/SuccessModal.tsx","components/ProductsPage/NewProductForm/NewProductForm.tsx","api/products.ts","components/ProductsPage/ProductSearch/ProductSearch.tsx","app/hooks.ts","components/Loader/Loader.tsx","components/ProductsPage/ProductsTable/ProductsTable.tsx","pages/ProductsPage/ProductsPage.tsx","App.tsx","app/store.ts","index.tsx"],"names":["NotFoundPage","navigate","useNavigate","_jsx","className","children","_jsxs","src","img","alt","type","onClick","Modal","_ref","Header","React","memo","showForm","productsSlice","createSlice","name","initialState","reducers","addMultiple","products","action","push","apply","_toConsumableArray","payload","addOne","remove","filter","product","id","actions","FormItem","title","errorMessage","touched","basicSchema","yup","shape","matches","min","max","required","author","year","rating","StarsRating","onChange","concat","map","value","years","amount","currentYear","Date","getFullYear","Array","fill","_","i","YearSelect","selectedYear","request","url","data","arguments","length","undefined","options","method","body","JSON","stringify","headers","fetch","then","res","ok","Error","json","client","SuccessModal","formSuccess","NewProductForm","dispatch","useDispatch","_useState","useState","_useState2","_slicedToArray","isSuccessSubmit","setIsSuccessSubmit","_useState3","_useState4","isDataSending","setIsDataSending","_useFormik","useFormik","initialValues","validationSchema","onSubmit","createProduct","productsActions","catch","finally","values","errors","handleChange","handleSubmit","handleBlur","_Fragment","autoComplete","placeholder","onBlur","ProductSearch","query","setQuery","event","target","useAppSelector","useSelector","Loader","ProductsTable","isLoading","setIsLoading","setErrorMessage","_useState5","_useState6","productToRemove","setProductToRemove","_useState7","_useState8","itemsLoaded","setItemsLoaded","_useState9","_useState10","productsTotal","setProductTotal","state","handleLoad","skip","loadProducts","current","Number","limit","total","useEffect","handleRemove","productId","removeProduct","alert","columns","useMemo","field","headerName","width","headerClassName","renderCell","params","Avatar","row","thumbnail","sortable","filterable","disableColumnMenu","cn","productsToShow","normTitle","toLowerCase","normCategory","category","normQuery","includes","DataGrid","autoHeight","sx","color","border","display","rows","hideFooterPagination","hideFooterSelectedRowCount","ProductsPage","isNewProductOpened","setIsNewProductOpened","searchQuery","setSearchQuery","ProductPageHeader","App","Routes","Route","path","element","store","configureStore","reducer","productsReducer","ReactDOM","render","StrictMode","HashRouter","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.c764c3fe.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/image__not-found.b7a45c84.png\";","import React from 'react';\nimport './NotFoundPage.scss';\nimport { useNavigate } from 'react-router-dom';\nimport img from '../../static/images/image__not-found.png';\n\nexport const NotFoundPage: React.FC = () => {\n  const navigate = useNavigate();\n\n  return (\n    <main className=\"not-found\">\n      <div className=\"container not-found__container\">\n        <img\n          className=\"not-found__img\"\n          src={img}\n          alt=\"not found illustration\"\n        />\n        <button\n          type=\"button\"\n          className=\"btn\"\n          onClick={() => navigate('/')}\n        >\n          Home Page\n        </button>\n      </div>\n    </main>\n  );\n};\n","import React from 'react';\nimport './Modal.scss';\n\nexport const Modal: React.FC = ({ children }) => (\n  <div className=\"modal\">\n    <div className=\"container modal__container\">{children}</div>\n  </div>\n);\n","import React from 'react';\n\ntype Props = {\n  showForm: React.Dispatch<React.SetStateAction<boolean>>;\n};\n\nexport const Header: React.FC<Props> = React.memo(({ showForm }) => (\n  <header className=\"products-page__header\">\n    <h1 className=\"products-page__title\">Products</h1>\n    <button\n      type=\"button\"\n      className=\"products-page__new-product\"\n      onClick={() => showForm(true)}\n    >\n      New Product\n    </button>\n  </header>\n));\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { Product } from '../types/Product';\n\nconst initialState: Product[] = [];\n\nconst productsSlice = createSlice({\n  name: 'products',\n  initialState,\n  reducers: {\n    addMultiple: (products, action: PayloadAction<Product[]>) => {\n      products.push(...action.payload);\n    },\n    addOne: (products, action: PayloadAction<Product>) => {\n      products.push(action.payload);\n    },\n    remove: (products, action: PayloadAction<number>) => {\n      return products.filter((product) => product.id !== action.payload);\n    },\n  },\n});\n\nexport default productsSlice.reducer;\nexport const { actions } = productsSlice;\n","/* eslint-disable object-curly-newline */\n/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React from 'react';\n\ntype Props = {\n  title: string;\n  errorMessage: string | undefined;\n  touched: boolean | undefined;\n};\n\nexport const FormItem: React.FC<Props> = React.memo(\n  ({ title, errorMessage, touched, children }) => (\n    <label className=\"new-product-form__label\">\n      <span className=\"new-product-form__label-text\">\n        {title}\n        {errorMessage && touched && (\n          <span className=\"new-product-form__error-message\">\n            {errorMessage}\n          </span>\n        )}\n      </span>\n      {children}\n    </label>\n  ),\n);\n","/* eslint-disable import/no-extraneous-dependencies */\nimport * as yup from 'yup';\n\nexport const basicSchema = yup.object().shape({\n  title: yup\n    .string()\n    .matches(/^[A-Za-zА-яа-я]+$/, 'Letters only')\n    .min(3, 'Min 3 letters')\n    .max(30, 'Max 30 letters')\n    .required('Required'),\n  author: yup\n    .string()\n    .matches(/^[A-Za-zА-яа-я]+$/, 'Letters only')\n    .min(3, 'Min 3 letters')\n    .max(30, 'Max 30 letters')\n    .required('Required'),\n  year: yup.number(),\n  rating: yup.number().min(1, 'Required').max(5),\n});\n","/* eslint-disable object-curly-newline */\n/* eslint-disable jsx-a11y/label-has-associated-control */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React, { ChangeEvent } from 'react';\n\ntype Props = {\n  errorMessage: string | undefined;\n  touched: boolean | undefined;\n  rating: number;\n  onChange: (e: ChangeEvent<any>) => void;\n};\n\nexport const StarsRating: React.FC<Props> = React.memo(\n  ({ errorMessage, touched, rating, onChange }) => (\n    <div className=\"new-product-form__label\">\n      <span className=\"new-product-form__label-text\">\n        Rating\n        {errorMessage && touched && (\n          <span className=\"new-product-form__error-message\">\n            {errorMessage}\n          </span>\n        )}\n      </span>\n\n      <div\n        className={`new-product-form__stars new-product-form__stars--${rating}`}\n      >\n        {[1, 2, 3, 4, 5].map((value) => (\n          <label\n            key={value}\n            className=\"new-product-form__star\"\n          >\n            <input\n              className=\"new-product-form__star-btn\"\n              type=\"radio\"\n              name=\"rating\"\n              value={value}\n              onChange={onChange}\n            />\n          </label>\n        ))}\n      </div>\n    </div>\n  ),\n);\n","export const years = (amount: number) => {\n  const currentYear = new Date().getFullYear();\n\n  return Array(amount)\n    .fill(0)\n    .map((_, i) => currentYear - i);\n};\n","/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable object-curly-newline */\nimport React, { ChangeEvent } from 'react';\nimport { years } from '../years';\nimport { FormItem } from '../FormItem';\n\ntype Props = {\n  errorMessage: string | undefined;\n  touched: boolean | undefined;\n  selectedYear: number;\n  onChange: (e: ChangeEvent<any>) => void;\n};\n\nexport const YearSelect: React.FC<Props> = React.memo(\n  ({ errorMessage, touched, selectedYear, onChange }) => (\n    <FormItem\n      title=\"Year\"\n      errorMessage={errorMessage}\n      touched={touched}\n    >\n      <select\n        name=\"year\"\n        className=\"new-product-form__input new-product-form__years\"\n        value={selectedYear}\n        onChange={onChange}\n      >\n        {years(15).map((year) => (\n          <option\n            value={year}\n            key={year}\n          >\n            {year}\n          </option>\n        ))}\n      </select>\n    </FormItem>\n  ),\n);\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nconst BASE_URL = 'https://dummyjson.com';\n\ntype RequestMethod = 'GET' | 'POST' | 'DELETE';\n\nfunction request<T>(\n  url: string,\n  method: RequestMethod = 'GET',\n  data: any = null,\n): Promise<T> {\n  const options: RequestInit = { method };\n\n  if (data) {\n    options.body = JSON.stringify(data);\n    options.headers = {\n      'Content-Type': 'application/json; charset=UTF-8',\n    };\n  }\n\n  return fetch(BASE_URL + url, options).then((res) => {\n    if (!res.ok) {\n      throw new Error();\n    }\n\n    return res.json();\n  });\n}\n\nexport const client = {\n  get: <T>(url: string) => request<T>(url),\n  post: <T>(url: string, data: any) => request<T>(url, 'POST', data),\n  delete: <T>(url: string) => request<T>(url, 'DELETE'),\n};\n","export default __webpack_public_path__ + \"static/media/image__form-success.e39fa5f5.png\";","import React from 'react';\nimport './SuccessModal.scss';\nimport formSuccess from '../../static/images/image__form-success.png';\n\ntype Props = {\n  showForm: React.Dispatch<React.SetStateAction<boolean>>;\n};\n\nexport const SuccessModal: React.FC<Props> = ({ showForm }) => {\n  return (\n    <article className=\"success-modal\">\n      <img\n        className=\"success-modal__img\"\n        src={formSuccess}\n        alt=\"showing that the form was submitted successfully\"\n      />\n      <h3 className=\"success-modal__title\">The product was created!</h3>\n      <button\n        type=\"button\"\n        className=\"btn\"\n        onClick={() => showForm(false)}\n      >\n        Back to products\n      </button>\n    </article>\n  );\n};\n","/* eslint-disable object-curly-newline */\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { useFormik } from 'formik';\nimport { actions as productsActions } from '../../../features/products';\nimport './NewProductForm.scss';\nimport { FormItem } from './FormItem';\nimport { basicSchema } from './schemas';\nimport { StarsRating } from './StarsRating';\nimport { YearSelect } from './YearSelect';\nimport { createProduct } from '../../../api/products';\nimport { SuccessModal } from '../../SuccessModal';\n\ntype Props = {\n  showForm: React.Dispatch<React.SetStateAction<boolean>>;\n};\n\ntype FormState = {\n  title: string;\n  author: string;\n  year: number;\n  rating: number;\n};\n\nexport const NewProductForm: React.FC<Props> = ({ showForm }) => {\n  const dispatch = useDispatch();\n  const [isSuccessSubmit, setIsSuccessSubmit] = useState(false);\n  const [isDataSending, setIsDataSending] = useState(false);\n\n  const navigate = useNavigate();\n\n  const submitHandler = (data: FormState) => {\n    setIsDataSending(true);\n    const { title, rating } = data;\n\n    createProduct({ title, rating: +rating })\n      .then((res) => {\n        dispatch(productsActions.addOne(res));\n        setIsSuccessSubmit(true);\n      })\n      .catch(() => {\n        navigate('/not-found');\n      })\n      .finally(() => {\n        setIsDataSending(false);\n      });\n  };\n\n  // eslint-disable-next-line operator-linebreak\n  const { values, errors, touched, handleChange, handleSubmit, handleBlur } =\n    useFormik({\n      initialValues: {\n        title: '',\n        author: '',\n        year: new Date().getFullYear(),\n        rating: 0,\n      },\n      validationSchema: basicSchema,\n      onSubmit: submitHandler,\n    });\n\n  return (\n    <>\n      {isSuccessSubmit ? (\n        <SuccessModal showForm={showForm} />\n      ) : (\n        <form\n          className=\"new-product-form page__new-product-form\"\n          autoComplete=\"off\"\n          onSubmit={handleSubmit}\n        >\n          {isDataSending && (\n            <div\n              className=\"new-product-form__loader\"\n              aria-label=\"sending data\"\n            >\n              {' '}\n            </div>\n          )}\n          <div className=\"new-product-form__header\">\n            <h2 className=\"new-product-form__title\">Add New Product</h2>\n            <input\n              type=\"button\"\n              className=\"new-product-form__close\"\n              aria-label=\"click to close the form\"\n              onClick={() => showForm(false)}\n            />\n          </div>\n\n          {/* Title */}\n          <FormItem\n            title=\"Title\"\n            errorMessage={errors.title}\n            touched={touched.title}\n          >\n            <input\n              name=\"title\"\n              type=\"text\"\n              className=\"new-product-form__input\"\n              placeholder=\"Title\"\n              value={values.title}\n              onChange={handleChange}\n              onBlur={handleBlur}\n            />\n          </FormItem>\n\n          {/* Author */}\n          <FormItem\n            title=\"Author\"\n            errorMessage={errors.author}\n            touched={touched.author}\n          >\n            <input\n              name=\"author\"\n              type=\"text\"\n              className=\"new-product-form__input\"\n              placeholder=\"Author\"\n              value={values.author}\n              onChange={handleChange}\n              onBlur={handleBlur}\n            />\n          </FormItem>\n\n          <div className=\"new-product-form__container\">\n            {/* Year */}\n            <YearSelect\n              errorMessage={errors.year}\n              touched={touched.year}\n              selectedYear={values.year}\n              onChange={handleChange}\n            />\n\n            {/* Rating */}\n            <StarsRating\n              errorMessage={errors.rating}\n              touched={touched.rating}\n              rating={values.rating}\n              onChange={handleChange}\n            />\n          </div>\n\n          {/* Submit */}\n          <button\n            type=\"submit\"\n            className=\"btn new-product-form__submit\"\n          >\n            Add New Product\n          </button>\n        </form>\n      )}\n    </>\n  );\n};\n","import { Product } from '../types/Product';\nimport { client } from './utils/requests';\n\ntype ApiData = {\n  products: Product[];\n  limit: number;\n  total: number;\n  skip: number;\n};\n\nexport const loadProducts = (limit = 30, skip = 0) => {\n  return client.get<ApiData>(`/products?limit=${limit}&skip=${skip}`);\n};\n\nexport const createProduct = (data: Partial<Product>) => {\n  return client.post<Product>('/products/add', data);\n};\n\nexport const removeProduct = (productId: number) => {\n  return client.delete<Product>(`/products/${productId}`);\n};\n","/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React from 'react';\n\ntype Props = {\n  query: string;\n  setQuery: React.Dispatch<React.SetStateAction<string>>;\n};\n\nexport const ProductSearch: React.FC<Props> = React.memo(\n  ({ query, setQuery }) => (\n    <form className=\"products-page__form\">\n      <label className=\"products-page__search-label\">\n        <div className=\"products-page__search-container\">\n          <input\n            type=\"text\"\n            className=\"products-page__search\"\n            placeholder=\"Search for a Product\"\n            value={query}\n            onChange={(event) => setQuery(event.target.value)}\n          />\n        </div>\n      </label>\n    </form>\n  ),\n);\n","import { TypedUseSelectorHook, useSelector } from 'react-redux';\nimport { RootState } from './store';\n\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import React from 'react';\nimport './Loader.scss';\n\nexport const Loader: React.FC = () => {\n  return <div className=\"loader\"></div>;\n};\n","/* eslint-disable object-curly-newline */\nimport React, { useEffect, useMemo, useState } from 'react';\nimport cn from 'classnames';\nimport { DataGrid } from '@mui/x-data-grid';\nimport { Avatar } from '@mui/material';\nimport { useDispatch } from 'react-redux';\nimport { useAppSelector } from '../../../app/hooks';\nimport { actions as productsActions } from '../../../features/products';\nimport { loadProducts, removeProduct } from '../../../api/products';\nimport './ProductsTable.scss';\nimport { Loader } from '../../Loader';\n\ntype Props = {\n  query: string;\n};\n\nexport const ProductsTable: React.FC<Props> = React.memo(({ query }) => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [productToRemove, setProductToRemove] = useState<number | null>(null);\n  const [itemsLoaded, setItemsLoaded] = useState<number | null>(null);\n  const [productsTotal, setProductTotal] = useState(0);\n  const dispatch = useDispatch();\n  const products = useAppSelector((state) => state.products);\n\n  const handleLoad = (limit = 30, skip = 0) => {\n    loadProducts(limit, skip)\n      .then((res) => {\n        dispatch(productsActions.addMultiple(res.products));\n        setItemsLoaded((current) => Number(current) + res.limit);\n        setProductTotal(res.total);\n      })\n      .catch(() => {\n        setErrorMessage('Oooops, something went wrong...');\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n  useEffect(() => {\n    handleLoad();\n  }, []);\n\n  const handleRemove = (productId: number) => {\n    setProductToRemove(productId);\n\n    removeProduct(productId)\n      .then((res) => {\n        dispatch(productsActions.remove(res.id));\n      })\n      .catch(() => {\n        // eslint-disable-next-line no-alert\n        alert('Something went wrong. Try to delete again !');\n      })\n      .finally(() => {\n        setProductToRemove(null);\n      });\n  };\n\n  const handleLoadMore = () => {\n    setIsLoading(true);\n\n    handleLoad(30, Number(itemsLoaded));\n  };\n\n  const columns = useMemo(\n    () => [\n      {\n        field: 'id',\n        headerName: 'ID',\n        width: 85,\n        headerClassName: 'products-table__table-head',\n      },\n      {\n        field: 'title',\n        headerName: 'Title',\n        width: 150,\n        headerClassName: 'products-table__table-head',\n      },\n      {\n        field: 'description',\n        headerName: 'Description',\n        width: 350,\n        headerClassName: 'products-table__table-head',\n      },\n      {\n        field: 'price',\n        headerName: 'Price',\n        width: 105,\n        headerClassName: 'products-table__table-head',\n      },\n      {\n        field: 'thumbnail',\n        headerName: 'Photo',\n        width: 80,\n        headerClassName: 'products-table__table-head',\n        renderCell: (params: { row: { thumbnail: string | undefined } }) => (\n          <Avatar src={params.row.thumbnail} />\n        ),\n        sortable: false,\n        filterable: false,\n      },\n      {\n        field: 'rating',\n        headerName: 'Rating',\n        width: 110,\n        headerClassName: 'products-table__table-head',\n      },\n      {\n        field: 'stock',\n        headerName: 'Stock',\n        width: 110,\n        headerClassName: 'products-table__table-head',\n      },\n      {\n        field: 'category',\n        headerName: 'Category',\n        width: 130,\n        headerClassName: 'products-table__table-head',\n      },\n      {\n        field: 'remove',\n        headerName: '',\n        width: 80,\n        headerClassName: 'products-table__table-head',\n        sortable: false,\n        filterable: false,\n        disableColumnMenu: true,\n        renderCell: (params: { row: { id: number } }) => (\n          <input\n            type=\"button\"\n            className={cn('products-table__delete', {\n              'products-table__delete--active':\n                params.row.id === productToRemove,\n            })}\n            onClick={() => handleRemove(params.row.id)}\n          />\n        ),\n      },\n    ],\n    [productToRemove],\n  );\n\n  const productsToShow = useMemo(() => {\n    return products.filter((product) => {\n      const normTitle = product.title.toLowerCase();\n      const normCategory = product.category.toLowerCase();\n      const normQuery = query.toLowerCase();\n\n      return normTitle.includes(normQuery) || normCategory.includes(normQuery);\n    });\n  }, [query, itemsLoaded]);\n\n  return (\n    <>\n      {errorMessage && (\n        <div className=\"products-table__error-message\">{errorMessage}</div>\n      )}\n      {itemsLoaded && !errorMessage && (\n        <div className=\"products-table\">\n          <DataGrid\n            autoHeight\n            sx={{\n              color: '#fff',\n              border: 'none',\n              '.MuiDataGrid-columnSeparator': {\n                display: 'none',\n              },\n            }}\n            rows={productsToShow}\n            columns={columns}\n            hideFooterPagination\n            hideFooterSelectedRowCount\n          />\n        </div>\n      )}\n      {isLoading && <Loader />}\n      {itemsLoaded !== productsTotal && (\n        <button\n          type=\"button\"\n          className={cn('btn products-table__load-more', {\n            'products-table__load-more--loading': isLoading,\n          })}\n          onClick={() => handleLoadMore()}\n        >\n          {errorMessage ? 'Try again' : 'Load more'}\n        </button>\n      )}\n    </>\n  );\n});\n","import React, { useState } from 'react';\nimport { Modal } from '../../components/Modal';\nimport { Header as ProductPageHeader } from '../../components/ProductsPage/Header';\nimport { NewProductForm } from '../../components/ProductsPage/NewProductForm';\nimport { ProductSearch } from '../../components/ProductsPage/ProductSearch';\nimport { ProductsTable } from '../../components/ProductsPage/ProductsTable';\nimport './ProductsPage.scss';\n\nexport const ProductsPage: React.FC = () => {\n  const [isNewProductOpened, setIsNewProductOpened] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n\n  return (\n    <>\n      {isNewProductOpened && (\n        <Modal>\n          <NewProductForm showForm={setIsNewProductOpened} />\n        </Modal>\n      )}\n      <div className=\"products-page\">\n        <div className=\"container\">\n          <ProductPageHeader showForm={setIsNewProductOpened} />\n          <main className=\"products-page__main\">\n            <ProductSearch\n              query={searchQuery}\n              setQuery={setSearchQuery}\n            />\n            <ProductsTable query={searchQuery} />\n          </main>\n        </div>\n      </div>\n    </>\n  );\n};\n","import React from 'react';\nimport './App.scss';\nimport { Routes, Route } from 'react-router-dom';\n\n// Pages\nimport { NotFoundPage } from './pages/NotFoundPage';\nimport { ProductsPage } from './pages/ProductsPage';\n\nexport const App: React.FC = () => (\n  <>\n    <Routes>\n      <Route\n        path=\"/\"\n        element={<ProductsPage />}\n      />\n      <Route\n        path=\"*\"\n        element={<NotFoundPage />}\n      />\n    </Routes>\n  </>\n);\n","import { configureStore } from '@reduxjs/toolkit';\nimport productsReducer from '../features/products';\n\nconst store = configureStore({\n  reducer: {\n    products: productsReducer,\n  },\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\nimport { App } from './App';\nimport store from './app/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}